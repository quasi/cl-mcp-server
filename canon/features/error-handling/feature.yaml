feature:
  name: error-handling
  version: 0.1.0
  status: draft
  description: |
    Captures and reports Lisp conditions in a structured format.
    Preserves condition type (not just message text).
    Captures warnings without stopping evaluation (muffle-warning).
    Formats backtraces showing relevant user frames.
    Uses handler-bind for non-unwinding condition capture.

depends_on:
  core: true
  features: []

contracts:
  - condition-report    # Error/warning format specification

properties:
  - condition-type-preservation    # INV-006: Condition types preserved in reports
  - error-capture-stability        # INV-002: Server never crashes on errors
  - structured-error-response      # Consistent error format with sections
  - warning-capture-muffling       # Warnings captured and muffled, not fatal

scenarios:
  - evaluation-errors   # undefined-function, type-error, etc.
